# mabl Tests

mabl-test（静的HTMLテストサイト）用のmablテスト定義ファイルです。

## ディレクトリ構成

```
mabl-tests/
├── prompts/                        # Test Creation Agent用のテスト手順
│   └── 001-image-download.md       # 例: 画像表示・ダウンロードテスト
├── instructions.md                 # テスト手順プロンプト作成ガイドライン
└── README.md
```

## mabl環境情報

| 項目 | 値 |
|------|-----|
| ワークスペース | mabl-univ |
| アプリケーション | mabl-test |
| 環境 | Training Env |

## テスト対象ページ一覧

| ディレクトリ | ページ内容 | ラベル |
|------------|-----------|--------|
| `/001/` | 画像表示・ダウンロード | `image` |
| `/002/` | テーブル表示 (5x5) | `table` |
| `/003/` | OTP入力フィールド | `form` |
| `/004/` | ファイルアップロード | `form` |
| `/005/` | Basic認証UI | `auth` |
| `/006/` | 複数テキスト入力 | `form` |
| `/007/` | テキストエディタ・サンプル | `editor` |
| `/008/` | PDF中の要素検出 | `pdf` |
| `/009/` | タブオーダーチェック | `accessibility` |
| `/010/` | ブラウザタイムゾーンチェック | `browser` |
| `/011/` | 日付・時刻入力 | `form` |

## テスト作成方法

1. `prompts/` ディレクトリ内のMarkdownファイルを参照（または新規作成）
2. mablのTest Creation Agentにテスト手順を渡してテストを作成
3. 作成されたテストはmabl管理画面で確認・編集可能

### プロンプト新規作成の流れ

1. 対象ページのHTMLソースを読み、画面構成を把握する
2. [instructions.md](instructions.md) のテンプレート構造に従ってプロンプトを作成する
3. 品質チェックリスト（instructions.md セクション9）で確認する
4. `prompts/` ディレクトリにファイルを配置する

### ファイル命名規則

- ファイル名: `{連番3桁}-{機能名(kebab-case)}.md`
- 連番はテスト対象ページのディレクトリ番号に対応
- 例: `001-image-download.md`, `003-otp-input.md`

## ラベル体系

テスト作成後、mabl管理画面で以下のラベルを付与してください。

### 作成方法ラベル（必須）

- `ai-generated`: Test Creation Agentで作成したテスト

### 機能カテゴリラベル

| ラベル | 対象ページ |
|--------|----------|
| `image` | 001 - 画像表示・ダウンロード |
| `table` | 002 - テーブル表示 |
| `form` | 003 - OTP入力, 004 - ファイルアップロード, 006 - 複数テキスト入力, 011 - 日付・時刻入力 |
| `auth` | 005 - Basic認証UI |
| `editor` | 007 - テキストエディタ |
| `pdf` | 008 - PDF中の要素検出 |
| `accessibility` | 009 - タブオーダーチェック |
| `browser` | 010 - ブラウザタイムゾーンチェック |

## プロンプト作成ガイドライン（概要）

詳細は [instructions.md](instructions.md) を参照してください。

### 要素の指定方法

mablのTest Creation Agentは生成AIプロンプトで要素を探すため、**目視で要素を特定できる情報**を使用します。

**使用する情報:**
- **表記**: ボタンやラベルのテキスト（例：「ダウンロード」と表示されたボタン）
- **位置関係**: 他の要素との上下左右の関係（例：テーブルの3行目2列目）
- **スタイル**: 枠線付き、塗りつぶし、色など
- **状態**: 有効/無効、選択済み/未選択など

**使用しない情報:**
- id属性（例: `#download-button`）
- class属性（例: `.btn-primary`）
- data属性（例: `data-testid`）
- XPath

### テスト手順の構成

1. **ページ表示の確認**: 対象ページが正しく表示されることを確認
2. **失敗ケースの確認**: 不正な入力に対するエラー処理を先に検証（該当する場合）
3. **成功ケースの実行**: 正常な入力でメイン機能を実行
4. **成功結果の確認**: 期待される結果が表示されることを確認
5. **後処理**: 初期状態に戻す（該当する場合）

### ラベルの指定

プロンプトファイルの「テスト概要」セクションに、付与すべきラベルを明記してください。

```markdown
- **ラベル**: `ai-generated`, `form`
```
